/*
 * jQuery hashchange event - v1.3pre - 7/5/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,h,b){var c="hashchange",i,j=$.event.special,e=$.browser,f=document.documentMode,g=e.msie&&(f===b||f<8),d="on"+c in h&&(f===b||f>7);function a(k){k=k||location.href;return"#"+k.replace(/^[^#]*#?(.*)$/,"$1")}$[c+"Delay"]=50;j[c]=$.extend(j[c],{setup:function(){if(d){return false}$(i.start)},teardown:function(){if(d){return false}$(i.stop)}});i=(function(){var k={},q,n=a(),l=function(r){return r},m=l,p=l;k.start=function(){q||o()};k.stop=function(){q&&clearTimeout(q);q=b};function o(){var s=a(),r=p(n);if(s!==n){m(n=s,r);$(h).trigger(c)}else{if(r!==n){location.href=location.href.replace(/#.*/,"")+r}}q=setTimeout(o,$[c+"Delay"])}g&&(function(){var r,s;k.start=function(){if(!r){s=$[c+"IframeSrc"];s=s&&s+a();r=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){s||m(a());o()}).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow;document.onpropertychange=function(){try{if(event.propertyName==="title"){r.document.title=document.title}}catch(t){}}}};k.stop=l;p=function(){return a(r.location.href)};m=function(w,t){var v=r.document,u=$[c+"Domain"];if(w!==t){v.title=document.title;v.open();u&&v.write('<script>document.domain="'+u+'"<\/script>');v.close();r.location.hash=w}}})();return k})()})(jQuery,this);